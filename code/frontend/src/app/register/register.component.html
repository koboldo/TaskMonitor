<div>
    <h2>Dodaj nowego użytkownika</h2>
    <form name="f" novalidate (ngSubmit)="f.form?.valid && register()" #f="ngForm">
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !firstName?.valid }">
            <label for="firstName">Imie</label>
            <input type="text" class="form-control" name="firstName" [(ngModel)]="user.firstName" #firstName="ngModel" required />
            <div *ngIf="f.submitted && !firstName?.valid" class="help-block">Imie jest wymagane</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !lastName?.valid }">
            <label for="lastName">Nazwisko</label>
            <input type="text" class="form-control" name="lastName" [(ngModel)]="user.lastName" #lastName="ngModel" required />
            <div *ngIf="f.submitted && !lastName?.valid" class="help-block">Nazwisko jest wymagane</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username?.valid }">
            <label for="username">Login</label>
            <input type="text" class="form-control" name="username" [(ngModel)]="user.login" #login="ngModel" required />
            <div *ngIf="f.submitted && !username?.valid" class="help-block">Login jest wymagany</div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password?.valid }">
            <label for="password">Hasło</label>
            <input type="password" class="form-control" name="password" [(ngModel)]="user.password" #password="ngModel" required />
            <div *ngIf="f.submitted && !password?.valid" class="help-block">Haslo hmm jeszcze nie wiem</div>
        </div>
        <div class="form-group">
            <label for="roleCode">Funkcja w systemie</label>
            <p-selectButton name="roleCode" [options]="roles" [(ngModel)]="user.roleCode" required #roleCode="ngModel"></p-selectButton>
            <div *ngIf="f.submitted && !roleCode?.valid" class="help-block">Rola jest wymagana</div>
        </div>
        <div class="form-group">
            <label for="officeCode">Biuro macierzyste</label>
            <p-selectButton name="officeCode" [options]="offices" [(ngModel)]="user.officeCode" required #officeCode="ngModel"></p-selectButton>
            <!--<p-dropdown name="officeCode" [options]="offices" [(ngModel)]="user.officeCode" required autoWidth="false" tabindex="1"></p-dropdown>-->
            <div *ngIf="f.submitted && !officeCode?.valid" class="help-block">Biuro jest wymagane</div>
        </div>

        <div class="form-group">
            <button [disabled]="loading" class="btn btn-primary">Dodaj</button>
            <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
            <a [routerLink]="['']" class="btn btn-link">Anuluj</a>
        </div>
    </form>
</div>
